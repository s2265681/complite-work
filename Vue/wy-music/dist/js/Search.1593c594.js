(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Search"],{"04c9":function(t,e,s){"use strict";var a=s("bd83"),i=s.n(a);i.a},"055e":function(t,e,s){},"19d0":function(t,e,s){},"23d1":function(t,e,s){"use strict";var a=s("bc14"),i=s.n(a);i.a},"27c3":function(t,e,s){"use strict";var a=s("2b16"),i=s.n(a);i.a},"2b16":function(t,e,s){},"2c4b":function(t,e,s){"use strict";var a=s("7f11"),i=s.n(a);i.a},"5ab7":function(t,e,s){},"67dd":function(t,e,s){},"6a1e":function(t,e,s){},"6dbc":function(t,e,s){"use strict";var a=s("19d0"),i=s.n(a);i.a},"6e2a":function(t,e,s){"use strict";var a=s("5ab7"),i=s.n(a);i.a},"79ce":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-page-container"},[s("div",{staticClass:"search"},[s("search-input",{ref:"searchInput",attrs:{autofocus:"autofocus",placeholder:t.placeholder},on:{onInput:t.onInput}}),t.val||t.songList||t.loading?t._e():s("hot-search",{attrs:{dataSource:t.hotList},on:{onSearch:t.onSearch}})],1),t.val&&!t.loading&&t.songList&&t.searchList.albums?s("match-item",{attrs:{label:"专辑",dataSource:t.searchList.albums},on:{toDetail:t.toDetail}}):t._e(),t.val&&!t.loading&&t.songList&&t.searchList.artists?s("match-item",{attrs:{label:"歌手",dataSource:t.searchList.artists},on:{toDetail:t.toDetail}}):t._e(),t.val||t.loading||t.songList?t._e():s("history-list",{on:{onSearch:t.onSearch}}),!t.val||t.loading||t.songList?t._e():s("search-list",{attrs:{dataSource:t.searchList.songs},on:{onSearch:t.onSearch}}),t.songList?s("newest-music",{attrs:{musicList:t.searchList.songs}}):t._e(),s("loading",{attrs:{isLoading:t.loading}})],1)},i=[],n=(s("053b"),s("e35a"),s("9cf3"),s("a593")),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"m-input   scale-1px-bottom",attrs:{method:"get",action:"#"}},[s("div",{staticClass:"inputcover"},[s("i",{staticClass:"u-svg u-svg-srch"}),s("input",{staticClass:"input",attrs:{type:"search",name:"search",placeholder:t.placeholder,autocomplete:t.autocomplete,autofocus:""},domProps:{value:t.value},on:{input:t.changeInput}}),t.value?s("figure",{staticClass:"close",on:{click:t.handleClose}},[s("i",{staticClass:"u-svg u-svg-empty u-svg-close z-show"})]):t._e()])])},r=[],o={data:function(){return{value:""}},props:{placeholder:{type:String,default:""},autocomplete:{type:String,default:"off"}},methods:{changeInput:function(t){var e;this.value=(null===(e=t.target)||void 0===e?void 0:e.value)||"",this.$emit("onInput",this.value)},handleClose:function(){this.value="",this.$emit("onInput","")}}},u=o,l=(s("2c4b"),s("9ca4")),M=Object(l["a"])(u,c,r,!1,null,"5e443257",null),d=M.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"hot-search-page-container"},[s("h3",{staticClass:"title"},[t._v("热门搜索")]),s("ul",{staticClass:"list"},t._l(t.dataSource,(function(e,a){return s("li",{key:a,staticClass:"item borderRadius-1px",on:{click:function(s){return t.hotSearch(e)}}},[s("a",{staticClass:"text",attrs:{href:"#"}},[t._v(t._s(e.first))])])})),0)])},h=[],f=n["default"].extend({name:"HotSearch",props:{dataSource:{type:Array,default:function(){return[]}}},data:function(){return{}},created:function(){console.log(this,"created")},methods:{hotSearch:function(t){this.$emit("onSearch",t)}}}),g=f,p=(s("6dbc"),Object(l["a"])(g,m,h,!1,null,"50c45be6",null)),L=p.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"m-history"},[s("ul",{staticClass:"list"},t._l(t.dataSource,(function(e){return s("li",{key:e.first,staticClass:"item"},[s("i",{staticClass:"u-svg u-svg-histy"}),s("div",{staticClass:"histyr scale-1px-bottom"},[s("span",{staticClass:"link ellipsis",on:{click:function(s){return t.onSearch(e)}}},[t._v(t._s(e.first))]),s("figure",{staticClass:"close",on:{click:function(s){return t.deleteHistoryList(e)}}},[s("i",{staticClass:"u-svg  u-svg-close"})])])])})),0)])},y=[],v=s("f00f"),C=n["default"].extend({name:"History_List",props:{},data:function(){return{dataSource:Object(v["c"])()}},methods:{deleteHistoryList:function(t){this.resetSetItem("cm_search_history","delete",t)},onSearch:function(t){this.$emit("onSearch",t)}},created:function(){var t=this;window.addEventListener("setItem",(function(){t.dataSource=Object(v["c"])()}))},components:{}}),I=C,S=(s("04c9"),Object(l["a"])(I,j,y,!1,null,"7330a34d",null)),N=S.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"m-search"},[s("ul",{staticClass:"list"},t._l(t.dataSource,(function(e){return s("li",{key:e.id,staticClass:"item",on:{click:function(s){return t.onSearch(e)}}},[s("i",{staticClass:"u-svg u-svg-search"}),s("div",{staticClass:"histyr ellipsis scale-1px-bottom"},[s("span",{staticClass:"link"},[t._v(t._s(e.name))])])])})),0)])},A=[],b=n["default"].extend({name:"History_List",props:{dataSource:{type:Array,default:function(){return[]}}},methods:{onSearch:function(t){this.$emit("onSearch",t)}},components:{}}),x=b,z=(s("23d1"),Object(l["a"])(x,D,A,!1,null,"2eb78786",null)),_=z.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"list "},t._l(t.dataSource,(function(e){return s("li",{key:e.id,staticClass:"m-match-item scale-1px-bottom",on:{click:function(s){return t.toDetail(e)}}},[s("img",{staticClass:"image",attrs:{src:e.picUrl||e.artist.picUrl}}),s("div",{staticClass:"histyr ellipsis"},[s("span",{staticClass:"link"},[t._v(" "+t._s(t.label)+": "+t._s(e.name))]),s("span",{staticClass:"arrow"})])])})),0)},T=[],E=n["default"].extend({name:"Match_Item",props:{dataSource:{type:Array,default:function(){return[]}},label:{type:String,default:""}},methods:{toDetail:function(t){this.$emit("toDetail",t)}},components:{}}),O=E,Y=(s("6e2a"),Object(l["a"])(O,w,T,!1,null,"0520904c",null)),k=Y.exports,U=s("38f6"),Q=s("781b"),$=s("9f3a"),Z=function(){return Z=Object.assign||function(t){for(var e,s=1,a=arguments.length;s<a;s++)for(var i in e=arguments[s],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Z.apply(this,arguments)},H=n["default"].extend({name:"Search",props:{},data:function(){return{placeholder:"搜索歌手、歌曲、专辑",val:"",songList:null}},components:{SearchInput:d,HotSearch:L,HistoryList:N,Loading:Q["a"],SearchList:_,NewestMusic:U["a"],MatchItem:k},computed:Z({},Object($["c"])({loading:function(t){return t.search.loading},hotList:function(t){return t.search.hotList},searchList:function(t){return t.search.searchList}})),created:function(){this.getHotList()},methods:Z(Z({},Object($["b"])(["getHotList","getSearchList"])),{onInput:function(t){this.songList=!1,this.val=t,t&&this.getSearchList({val:t})},onSearch:function(t){console.log(t,"item>>>"),this.val=t.first||t.name,this.$refs.searchInput.value=this.val,this.songList=!0;var e={first:""};e.first=this.val,console.log(e,"histItem>>>"),this.resetSetItem("cm_search_history","add",e),this.getSearchList({val:this.val})},toDetail:function(t){console.log(t,"to detail")}})}),P=H,B=(s("cd5e"),Object(l["a"])(P,a,i,!1,null,"3f9b4eb2",null));e["default"]=B.exports},"7f11":function(t,e,s){},8361:function(t,e,s){"use strict";var a=s("055e"),i=s.n(a);i.a},"9cf3":function(t,e,s){"use strict";var a=s("b2a2"),i=s("857c"),n=s("2732"),c=s("9d5c"),r=s("59da");a("search",1,(function(t,e,s){return[function(e){var s=n(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,s):new RegExp(e)[t](String(s))},function(t){var a=s(e,t,this);if(a.done)return a.value;var n=i(t),o=String(this),u=n.lastIndex;c(u,0)||(n.lastIndex=0);var l=r(n,o);return c(n.lastIndex,u)||(n.lastIndex=u),null===l?-1:l.index}]}))},"9d5c":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},bc14:function(t,e,s){},bd83:function(t,e,s){},c397:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"play-page-container"},[s("playlist"),s("newlist",{attrs:{musicList:this.albumSong.playlist&&this.albumSong.playlist.tracks,showNum:!1}}),s("br"),s("br"),s("Title",{attrs:{title:"最新评论 ("+(this.commentList&&this.commentList.length)+")"}}),s("comment",{attrs:{dataSource:this.commentList}}),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")],1)},i=[],n=s("a593"),c=s("197d"),r=s("9f3a"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"playlist-wrap"},[s("PlayListItem"),s("br"),s("Title",{attrs:{title:"歌曲列表"}})],1)},u=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"playlist-item"},[s("div",{staticClass:"item-header"},[s("div",{staticClass:"iamge_wrap",style:{"background-image":"url("+t.item.picUrl+")"}}),s("div",{staticClass:"image_title"},[s("div",{staticClass:"image-wrap"},[s("img",{attrs:{src:t.item.picUrl,alt:""}}),s("div",{staticClass:"play-count"},[s("span",{staticClass:"count"},[t._v(t._s(t._f("count")(t.item.playCount)))]),s("img",{staticClass:"headset",attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMiAyMCI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjMDQwMDAwIiBkPSJNMjIgMTYuNzc3YzAgMS4yMzMtMS4xMjEgMi4yMzMtMi41MDYgMi4yMzMtMS4zODQgMC0yLjUwNi0xLTIuNTA2LTIuMjMzdi0yLjU1M2MwLTEuMjM0IDEuMTIyLTIuMjMzIDIuNTA2LTIuMjMzLjE3NCAwIC4zNDMuMDE3LjUwNi4wNDZ2LTEuMzdoLS4wMzNjLjAxNy0uMjIuMDMzLS40NDEuMDMzLS42NjZhOCA4IDAgMCAwLTE2IDBjMCAuMjI1LjAxNi40NDYuMDM0LjY2Nkg0djEuMzdjLjE2My0uMDI5LjMzMy0uMDQ2LjUwNS0uMDQ2IDEuMzg0IDAgMi41MDYuOTk5IDIuNTA2IDIuMjMzdjIuNTUzYzAgMS4yMzMtMS4xMjIgMi4yMzMtMi41MDYgMi4yMzNTMiAxOC4wMTEgMiAxNi43Nzd2LTIuNTUzYzAtLjI1OC4wNTktLjUwMS4xNDgtLjczQS45ODIuOTgyIDAgMCAxIDIgMTMuMDAxdi0yLjY2N2MwLS4wMjMuMDEyLS4wNDMuMDEzLS4wNjctLjAwNC0uMDg4LS4wMTMtLjE3Ni0uMDEzLS4yNjYgMC01LjUyMyA0LjQ3Ny0xMCAxMC0xMHMxMCA0LjQ3NyAxMCAxMGMwIC4wOS0uMDA5LjE3OC0uMDE0LjI2Ni4wMDIuMDI0LjAxNC4wNDQuMDE0LjA2N3YyYS45ODguOTg4IDAgMCAxLS4zNi43NTNjLjIyNC4zMzQuMzYuNzIuMzYgMS4xMzh2Mi41NTIiIG9wYWNpdHk9Ii4xNSIvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI2ZmZiIgZD0iTTIwIDE2Ljc3N2MwIDEuMjMzLTEuMTIxIDIuMjMzLTIuNTA2IDIuMjMzLTEuMzg0IDAtMi41MDYtMS0yLjUwNi0yLjIzM3YtMi41NTNjMC0xLjIzNCAxLjEyMi0yLjIzMyAyLjUwNi0yLjIzMy4xNzQgMCAuMzQzLjAxNy41MDYuMDQ2di0xLjM3aC0uMDMzYy4wMTctLjIyLjAzMy0uNDQxLjAzMy0uNjY2YTggOCAwIDAgMC0xNiAwYzAgLjIyNS4wMTYuNDQ2LjAzNC42NjZIMnYxLjM3Yy4xNjMtLjAyOS4zMzMtLjA0Ni41MDUtLjA0NiAxLjM4NCAwIDIuNTA2Ljk5OSAyLjUwNiAyLjIzM3YyLjU1M2MwIDEuMjMzLTEuMTIyIDIuMjMzLTIuNTA2IDIuMjMzUzAgMTguMDExIDAgMTYuNzc3di0yLjU1M2MwLS4yNTguMDU5LS41MDEuMTQ4LS43M0EuOTgyLjk4MiAwIDAgMSAwIDEzLjAwMXYtMi42NjdjMC0uMDIzLjAxMi0uMDQzLjAxMy0uMDY3LS4wMDQtLjA4OC0uMDEzLS4xNzYtLjAxMy0uMjY2IDAtNS41MjMgNC40NzctMTAgMTAtMTBzMTAgNC40NzcgMTAgMTBjMCAuMDktLjAwOS4xNzgtLjAxNC4yNjYuMDAyLjAyNC4wMTQuMDQ0LjAxNC4wNjd2MmEuOTg4Ljk4OCAwIDAgMS0uMzYuNzUzYy4yMjQuMzM0LjM2LjcyLjM2IDEuMTM4djIuNTUyIi8+PC9zdmc+",alt:"",srcset:""}}),s("span",{staticClass:"lsthd_icon"},[t._v("歌單")])])]),s("div",{staticClass:"image_txt"},[t._v(" "+t._s(t.item.name)+" ")])])]),s("div",{staticClass:"mask"},[t._v(" 查看更多歌曲，请下载客户端 ")])])},M=[],d=(s("20a5"),n["default"].extend({props:{},components:{},data:function(){return{item:{}}},mounted:function(){this.item=JSON.parse(this.$route.query.item),console.log(this)},filters:{count:function(t){return t>1e8?(t/1e8).toFixed(1)+"亿":(t/1e4).toFixed(1)+"万"}}})),m=d,h=(s("8361"),s("9ca4")),f=Object(h["a"])(m,l,M,!1,null,"32157924",null),g=f.exports,p=n["default"].extend({props:{},components:{PlayListItem:g,Title:c["a"]}}),L=p,j=Object(h["a"])(L,o,u,!1,null,null,null),y=j.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"comment-page-container"},[s("ul",{staticClass:"m-comments"},t._l(t.dataSource,(function(e,a){return s("li",{key:a,staticClass:"cmt_item",on:{click:function(s){return t.comment(e)}}},[s("div",{staticClass:"cmt_head"},[s("img",{attrs:{src:e.user.avatarUrl}})]),s("div",{staticClass:"cmt_wrap scale-1px-bottom"},[s("div",{staticClass:"header"},[s("div",{staticClass:"cmt_meta"},[s("span",{staticClass:"cmt_user ellipsis"},[t._v(t._s(e.user.nickname))]),s("span",{staticClass:"cmt_user ellipsis"},[t._v(t._s(t.transTime(e.time)))])]),s("div",{staticClass:"cmt_like"},[s("div",{staticClass:"comment-item-top-digg"},[t._v(" "+t._s(e.likedCount)+" ")])])]),s("div",{staticClass:"cmt_content"},[t._v(" "+t._s(e.content)+" ")])])])})),0)])},C=[],I=s("f00f"),S=n["default"].extend({name:"Comment",props:{dataSource:{type:Array,default:function(){return[]}}},data:function(){return{}},created:function(){console.log(this,"created")},methods:{comment:function(t){this.$emit("comment",t)},transTime:function(t){return Object(I["d"])(t)}}}),N=S,D=(s("27c3"),Object(h["a"])(N,v,C,!1,null,"3896b28e",null)),A=D.exports,b=s("38f6"),x=function(){return x=Object.assign||function(t){for(var e,s=1,a=arguments.length;s<a;s++)for(var i in e=arguments[s],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},x.apply(this,arguments)},z=n["default"].extend({name:"PlayList",data:function(){return{}},components:{playlist:y,newlist:b["a"],Comment:A,Title:c["a"]},computed:x({},Object(r["c"])({albumSong:function(t){return t.playlist.albumSong},commentList:function(t){return t.playlist.commentList.hotComments}})),methods:x({},Object(r["b"])(["getPlayList","getSongComment"])),created:function(){var t=this.$route.query.id,e=this.albumSong.playlist&&this.albumSong.playlist.tracks[0].id;this.getPlayList(t),this.getSongComment(e)},mounted:function(){console.log(this,"albumSong>>>")}}),_=z,w=(s("dde4"),Object(h["a"])(_,a,i,!1,null,"98d21366",null));e["default"]=w.exports},cd5e:function(t,e,s){"use strict";var a=s("67dd"),i=s.n(a);i.a},dde4:function(t,e,s){"use strict";var a=s("6a1e"),i=s.n(a);i.a}}]);
//# sourceMappingURL=Search.1593c594.js.map